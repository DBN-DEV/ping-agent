syntax = "proto3";

option go_package = ".;grpc";
package controller_grpc;


message GrpcPingCommand {
  string ip = 1;
  uint32 timeoutMs = 2;
  uint32 intervalMs = 3;
}

message GrpcTcpPingCommand {
  string target = 1;
  uint32 timeoutMs = 2;
  uint32 intervalMs = 3;
}

message CommandsResponse {
  repeated GrpcPingCommand pingCommands = 1;
  repeated GrpcTcpPingCommand tcpPingCommands = 2;
}

message CommandRequest {
  uint32 agentId = 1;
}

message CommandCheckSumResponse {
  string checkSum = 1;
}

service Controller {
  rpc GetCommandCheckSum (CommandRequest) returns (CommandCheckSumResponse);
  rpc GetPingCommand (CommandRequest) returns (CommandsResponse);
}
